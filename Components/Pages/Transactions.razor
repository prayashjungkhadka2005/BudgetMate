@page "/transactions"

<h3>Transactions</h3>

<div class="transaction-container">
    <div class="transaction-box">
        <form action="/" method="post">
            <div class="transaction-row">
                <div class="trow-title">Transaction Type</div>
                <div class="trow-field">
                    <select name="transaction-type">
                        <option value="expense">Debit</option>
                        <option value="income">Credit</option>
                        <option value="income">Debt</option>


                    </select>
                </div>
            </div>

            <div class="transaction-row">
                <div class="trow-title">Transaction Title</div>
                <div class="trow-field">
                    <input type="text" placeholder="Office Rent">
                </div>
            </div>

            <div class="transaction-row">
                <div class="trow-title">Amount</div>
                <div class="trow-field">
                    <input type="text" placeholder="$100">
                </div>
            </div>

            <div class="transaction-row">
                <div class="trow-title">Tags</div>
                <div class="trow-field">
                    <div class="tag-button" onclick="toggleTag(this)">Clothes</div>
                    <div class="tag-button" onclick="toggleTag(this)">Rent</div>
                    <div class="tag-button" onclick="toggleTag(this)">Groceries</div>
                    <div class="tag-button" onclick="toggleCustomTag(this)">Custom Tag</div>
                </div>


                <div class="custom-tag-input">
                    <input type="text" placeholder="Enter custom tag...">
                </div>
            </div>

            <!-- Submit Button -->
            <div class="transaction-row">
                <div class="trow-field">
                    <button type="submit">Submit</button>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    // Allow only one tag to be selected at a time
    function toggleTag(button) {
        // If Custom Tag is selected, unselect it
        const customTagButton = document.querySelector('.tag-button:last-child');
        const customTagInput = document.querySelector('.custom-tag-input');

        if (customTagButton.classList.contains('selected')) {
            customTagButton.classList.remove('selected');
            customTagInput.style.display = 'none'; // Hide custom tag input
        }

        // Unselect all other tags
        const tags = document.querySelectorAll('.tag-button');
        tags.forEach(tag => tag.classList.remove('selected'));

        // Toggle the clicked tag
        button.classList.toggle('selected');
    }

    // Show/Hide custom tag input
    function toggleCustomTag(button) {
        const customTagInput = document.querySelector('.custom-tag-input');

        // Deselect other tags if custom tag is selected
        const tags = document.querySelectorAll('.tag-button');
        tags.forEach(tag => tag.classList.remove('selected'));

        // Toggle custom tag button and input visibility
        button.classList.toggle('selected');
        if (button.classList.contains('selected')) {
            customTagInput.style.display = 'block'; // Show custom tag input
        } else {
            customTagInput.style.display = 'none'; // Hide custom tag input
        }
    }
</script>
